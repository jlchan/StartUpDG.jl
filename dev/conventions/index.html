<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Background and conventions · StartUpDG.jl</title><meta name="title" content="Background and conventions · StartUpDG.jl"/><meta property="og:title" content="Background and conventions · StartUpDG.jl"/><meta property="twitter:title" content="Background and conventions · StartUpDG.jl"/><meta name="description" content="Documentation for StartUpDG.jl."/><meta property="og:description" content="Documentation for StartUpDG.jl."/><meta property="twitter:description" content="Documentation for StartUpDG.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">StartUpDG.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Background and conventions</a><ul class="internal"><li><a class="tocitem" href="#Assumptions"><span>Assumptions</span></a></li><li><a class="tocitem" href="#Code-conventions"><span>Code conventions</span></a></li><li class="toplevel"><a class="tocitem" href="#Differences-from-the-codes-of-&quot;Nodal-Discontinuous-Galerkin-Methods&quot;"><span>Differences from the codes of &quot;Nodal Discontinuous Galerkin Methods&quot;</span></a></li></ul></li><li><a class="tocitem" href="../RefElemData/"><code>RefElemData</code></a></li><li><a class="tocitem" href="../MeshData/"><code>MeshData</code></a></li><li><a class="tocitem" href="../ex_dg_deriv/">Example: computing DG derivatives</a></li><li><a class="tocitem" href="../more_meshes/">Additional mesh types</a></li><li><a class="tocitem" href="../visualization/">Visualization</a></li><li><a class="tocitem" href="../tstep_usage/">Timestepping</a></li><li><a class="tocitem" href="../index_refs/">Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Background and conventions</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Background and conventions</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/jlchan/StartUpDG.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Background"><a class="docs-heading-anchor" href="#Background">Background</a><a id="Background-1"></a><a class="docs-heading-anchor-permalink" href="#Background" title="Permalink"></a></h1><p>Most high order finite element methods rely on a decomposition of a domain into a mesh of &quot;elements&quot; (e.g., triangles or quadrilaterals in 2D, hexahedra or tetrahedra in 3D). Each &quot;physical&quot; element in a mesh is assumed to be the image of single &quot;reference&quot; element under some geometric mapping. Using the chain rule and changes of variables, one can evaluate integrals and derivatives using only operations on the reference element and some geometric mapping data. This transformation of operations on <em>all</em> elements to a single reference element make finite element methods efficient. </p><p>We use the convention that coordinates on the reference element are <span>$r$</span> in 1D, <span>$r, s$</span> in 2D, or <span>$r, s, t$</span> in 3D. Physical coordinates use the standard conventions <span>$x$</span>, <span>$x, y$</span>, and <span>$x, y, z$</span> in 1D, 2D, and 3D. </p><p><img src="../assets/mapping_diagram.png" alt="Mapping"/></p><p>Derivatives of reference coordinates with respect to physical coordinates are abbreviated, e.g., <span>$\frac{\partial r}{\partial x} = r_x$</span>. Additionally, <span>$J$</span> is used to denote the determinant of the Jacobian of the reference-to-physical mapping. </p><h2 id="Assumptions"><a class="docs-heading-anchor" href="#Assumptions">Assumptions</a><a id="Assumptions-1"></a><a class="docs-heading-anchor-permalink" href="#Assumptions" title="Permalink"></a></h2><p>We make a few simplifying assumptions about the mesh:</p><ul><li>meshes are <em>conforming</em> (e.g., each face of an element is shared with at most one other element). </li><li>the geometric mapping from reference to physical elements is the same degree polynomial as the approximation space on the reference element (e.g., the mapping is isoparametric). </li></ul><p>Initial experimental support for hybrid, cut-cell, and non-conforming meshes in two dimensions is also available. Please see the corresponding test sets <code>test/hybrid_mesh_tests.jl</code>, <code>test/cut_mesh_tests.jl</code>, and <code>noncon_mesh_tests.jl</code> for examples. </p><h2 id="Code-conventions"><a class="docs-heading-anchor" href="#Code-conventions">Code conventions</a><a id="Code-conventions-1"></a><a class="docs-heading-anchor-permalink" href="#Code-conventions" title="Permalink"></a></h2><p><code>StartUpDG.jl</code> exports structs <code>RefElemData{Dim, ElemShape, ...}</code> (which contains data associated with the reference element, such as interpolation points, quadrature rules, face nodes, normals, and differentiation/interpolation/projection matrices) and <code>MeshData{Dim}</code> (which contains geometric data associated with a mesh). These are currently used for evaluating DG formulations in a matrix-free fashion. These structs contain fields similar to those in <code>Globals1D, Globals2D, Globals3D</code> in the NDG book codes. </p><p>We use the following code conventions:</p><ul><li>variables <code>r, s, t</code> and <code>x, y, z</code> correspond to values at nodal interpolation points. </li><li>variables ending in <code>q</code> (e.g., <code>rq, sq,...</code> and <code>xq, yq,...</code>) correspond to values at volume quadrature points. </li><li>variables ending in <code>f</code> (e.g., <code>rf, sf,...</code> and <code>xf, yf,...</code>) correspond to values at face quadrature points. </li><li>variables ending in <code>p</code> (e.g., <code>rp, sp,...</code>) correspond to equispaced plotting nodes.</li><li><code>Dr, Ds, Dt</code> matrices are nodal differentiation matrices with respect to the <span>$r, s, t$</span> coordinates. For example, <code>Dr * f.(r, s)</code> approximates the derivative of <span>$f(r, s)$</span> at nodal points. </li><li><code>V</code> matrices correspond to interpolation matrices from nodal interpolation points. For example, <code>Vq</code> interpolates to volume quadrature points, <code>Vf</code> interpolates to face quadrature points, <code>Vp</code> interpolates to plotting nodes. </li><li>geometric quantities in <code>MeshData</code> are stored as matrices of dimension <span>$\text{number of points per element } \times \text{number of elements}$</span>.</li></ul><h1 id="Differences-from-the-codes-of-&quot;Nodal-Discontinuous-Galerkin-Methods&quot;"><a class="docs-heading-anchor" href="#Differences-from-the-codes-of-&quot;Nodal-Discontinuous-Galerkin-Methods&quot;">Differences from the codes of &quot;Nodal Discontinuous Galerkin Methods&quot;</a><a id="Differences-from-the-codes-of-&quot;Nodal-Discontinuous-Galerkin-Methods&quot;-1"></a><a class="docs-heading-anchor-permalink" href="#Differences-from-the-codes-of-&quot;Nodal-Discontinuous-Galerkin-Methods&quot;" title="Permalink"></a></h1><p>The codes in <code>StartUpDG.jl</code> are based closely on the Matlab codes from the book <a href="https://doi.org/10.1007/978-0-387-72067-8">&quot;Nodal Discontinuous Galerkin Methods&quot; by Hesthaven and Warburton (2008)</a> (which we will refer to as &quot;NDG&quot;). However, there are some differences in order to allow for more general DG discretizations and enforce certain mathematical properties:</p><ul><li>In NDG, <code>Fmask</code> extracts the interpolation nodes which lie on a face. These nodes are then used to compute interface fluxes. However, in StartUpDG.jl, we interpolate nodal values to values at face quadrature points via <code>rd.Vf * u</code>. These operations are equivalent if the interpolation nodes which lie on a face are co-located with quadrature points. Similarly, in NDG, the <code>LIFT</code> matrix maps face nodal points to volume nodal points. In <code>StartUpDG.jl</code>, the <code>rd.LIFT</code> matrix maps from face quadrature points to volume nodal points. </li><li>in NDG, there are connectivity arrays <code>vmapM</code> and <code>vmapP</code>, which directly retrieve interface values from arrays of nodal values. In <code>StartUpDG.jl</code>, face interpolation nodes are not guaranteed to be co-located with face quadrature nodes, so we do not provide <code>vmapM</code> and <code>vmapP</code>. Instead, we expect the user to compute face values and use the <code>md.mapM</code>, <code>md.mapP</code> arrays to access interface values. </li><li>in NDG, the mass matrix is computed exactly using the formula <code>M = inv(VDM * VDM&#39;)</code>, where <code>VDM</code> is the generalized Vandermonde matrix evaluated at nodal interpolation points. In <code>StartUpDG.jl</code>, the mass matrix is computed using quadrature. These are equivalent if the quadrature is exact for the integrands in the mass matrix (e.g., degree <span>$2N$</span> polynomials for triangular or tetrahedral elements).</li><li>in NDG, the geometric terms <code>rx, sx, ry, sy, ...</code> are computed and stored. In <code>StartUpDG.jl</code>, the <em>scaled</em> geometric terms <code>md.rxJ, md.sxJ, md.ryJ, md.syJ, ...</code> are computed, which enable us to enforce the <a href="https://doi.org/10.1007/s10915-005-9070-8">metric identities</a> on curved meshes. Similarly, NDG provides <code>Fscale = sJ ./ J(Fmask, :)</code>, while <code>StartUpDG.jl</code> only provides <code>md.Jf</code>, which is equivalent to <code>sJ</code>. <code>Fscale</code>, as well as the NDG geometric terms and can be recovered by dividing by <code>md.J</code>. </li></ul><p>Internally, NDG uses arrays <code>EToE</code> and <code>EToF</code> to compute the interface connectivity array <code>mapP</code>. <code>StartUpDG.jl</code> uses instead a face-to-face connectivity array <code>FToF</code>. However, <code>EToE</code>, <code>EToF</code>, and <code>FToF</code> are not typically required for the matrix-free explicit solvers targeted by this package. </p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../RefElemData/"><code>RefElemData</code> »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Friday 15 August 2025 15:14">Friday 15 August 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
